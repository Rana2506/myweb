<!DOCTYPE html>
<html>
<head>
  <!-- Basic Meta Tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>HSSPL Search Functionality Documentation</title>
<meta name="description" content="HSSPL - Height Safety Solutions Provider">

<!-- Bootstrap & Required Libraries -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.4/css/lightbox.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css">
<link rel="stylesheet" href="/assets/css/style.css">

<style>
.header-fixed {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 1030;
  background: #fff;
  box-shadow: 0 2px 8px rgba(0,0,0,0.07);
  padding: 0;
}

/* Add top padding to body to account for fixed header */
body {
  padding-top: 80px;
}

/* Ensure main content starts below header */
main {
  position: relative;
}

/* Responsive body padding */
@media (max-width: 768px) {
  body {
    padding-top: 75px;
  }
}

@media (max-width: 480px) {
  body {
    padding-top: 70px;
  }
}
.header-logo {
  height: 48px;
  width: auto;
}
@media (max-width: 768px) {
  .header-logo {
    height: 40px;
  }
}
.company-name {
  font-size: 1.5rem;
  font-weight: 700;
  color: #e30613;
  margin-left: 12px;
  letter-spacing: 1px;
  white-space: nowrap;
}
@media (max-width: 991.98px) {
  .company-name { 
    font-size: 1.1rem;
    margin-left: 8px;
  }
}
@media (max-width: 576px) {
  .company-name { 
    font-size: 1rem;
    margin-left: 6px;
  }
}
.navbar-nav .nav-link {
  font-weight: 500;
  color: #222;
  margin-right: 8px;
  white-space: nowrap;
  padding: 0.5rem 0.75rem;
}
.navbar-nav .nav-link.active, .navbar-nav .nav-link:focus, .navbar-nav .nav-link:hover {
  color: #e30613;
}
.navbar-nav {
  align-items: center;
}
@media (min-width: 1200px) {
  .navbar-nav .nav-link {
    margin-right: 12px;
    padding: 0.5rem 1rem;
  }
}
.dropdown-menu {
  min-width: 220px;
}
.search-box {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  white-space: nowrap;
}
.search-input {
  border-radius: 20px 0 0 20px;
  border: 1px solid #ced4da;
  padding: 0.375rem 1rem;
  min-width: 140px;
  flex-shrink: 0;
}
.search-btn {
  border-radius: 0 20px 20px 0;
  background: #e30613;
  color: #fff;
  border: none;
  padding: 0.375rem 1rem;
  flex-shrink: 0;
}
.search-btn:hover, .search-btn:focus, .search-btn:active {
  background: #c50410 !important;
  color: #fff !important;
  border: none !important;
}
/* Remove default button focus outline */
.search-btn:focus {
  box-shadow: none !important;
  outline: none !important;
}
/* Fix navbar toggler (burger) button colors */
.navbar-toggler {
  border: 1px solid #e30613 !important;
  padding: 0.25rem 0.5rem !important;
}
.navbar-toggler:focus, .navbar-toggler:active, .navbar-toggler:hover {
  background-color: transparent !important;
  border: 1px solid #e30613 !important;
  box-shadow: 0 0 0 0.25rem rgba(227, 6, 19, 0.25) !important;
  outline: none !important;
}
.navbar-toggler-icon {
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='%23e30613' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e") !important;
}
@media (max-width: 1199.98px) {
  .search-box { 
    width: 100%; 
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid #dee2e6;
  }
  .search-input { 
    min-width: 0; 
    width: 100%; 
  }
  .navbar-nav {
    padding-top: 1rem;
  }
  .nav-item {
    margin-bottom: 0.5rem;
  }
  .dropdown-menu {
    border: none;
    box-shadow: none;
    background-color: #f8f9fa;
    margin-left: 1rem;
  }
}
/* Ensure dropdown works on all screens */
@media (min-width: 1200px) {
  .dropdown:hover .dropdown-menu {
    display: block;
    margin-top: 0;
  }
}
</style>

<header class="header-fixed shadow-sm">
  <nav class="navbar navbar-expand-xl navbar-light bg-white py-2">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center" href="/">
        <img src="/assets/images/logo.png" alt="Logo" class="header-logo me-2">
        <span class="company-name">Heinrich Safety Solutions</span>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNavbar" aria-controls="mainNavbar" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="mainNavbar">
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0 align-items-lg-center">
          <li class="nav-item">
            <a class="nav-link" href="/about.html">About Us</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" id="productsDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <span id="productsLink" style="cursor:pointer;">Products</span>
              <span class="ms-1 dropdown-caret"></span>
            </a>
            <ul class="dropdown-menu" aria-labelledby="productsDropdown">
              
              <li><a class="dropdown-item" href="/ppe.html">Personal Protective Equipment</a></li>
              <li><a class="dropdown-item" href="/life-line-system.html">Life Line System</a></li>
              <li><a class="dropdown-item" href="/fall-arrest-system.html">Fall Arrest System</a></li>
              <li><a class="dropdown-item" href="/roof-top-guardrail.html">Rooftop Guardrail</a></li>
              <li><a class="dropdown-item" href="/skylight-protection-cover.html">Skylight Protection Cover</a></li>
            </ul>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/services.html">Services</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/contact-us.html">Contact Us</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/promo-offers.html">Promo & Offers</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/career.html">Career</a>
          </li>          <li class="nav-item ms-lg-3 mt-2 mt-lg-0">
            <form class="search-box" action="/search.html" method="get" role="search" id="headerSearchForm">
              <input class="form-control search-input" type="search" name="q" placeholder="Search Products..." aria-label="Search" id="headerSearchInput">
              <button class="search-btn" type="submit"><i class="fas fa-search"></i></button>
            </form>
          </li>
        </ul>
      </div>
    </div>
  </nav>
</header>

<!-- Bootstrap JS (for dropdowns and navbar toggler) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="/assets/js/search.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
  // Desktop: show dropdown on hover
  if (window.innerWidth >= 1200) {
    var dropdown = document.querySelector('.nav-item.dropdown');
    if (dropdown) {
      dropdown.addEventListener('mouseenter', function() {
        this.classList.add('show');
        this.querySelector('.dropdown-menu').classList.add('show');
      });
      dropdown.addEventListener('mouseleave', function() {
        this.classList.remove('show');
        this.querySelector('.dropdown-menu').classList.remove('show');
      });
    }
  }
  
  // Handle products link click
  document.getElementById('productsLink').addEventListener('click', function(e) {
    if (window.innerWidth >= 1200) {
      window.location.href = 'products.html';
      e.stopPropagation(); // Prevent dropdown from opening
    }
  });

  // Enhanced search functionality
  initializeSearch();
});

// Search functionality for header
function initializeSearch() {
  const searchInput = document.getElementById('headerSearchInput');
  const searchForm = document.getElementById('headerSearchForm');
  
  if (!searchInput || !searchForm) return;

  // Create suggestions dropdown
  const suggestionsDiv = document.createElement('div');
  suggestionsDiv.className = 'search-suggestions';
  suggestionsDiv.style.cssText = `
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: white;
    border: 1px solid #ddd;
    border-top: none;
    border-radius: 0 0 8px 8px;
    max-height: 300px;
    overflow-y: auto;
    z-index: 1000;
    display: none;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  `;
  
  // Make search container relative
  const searchBox = document.querySelector('.search-box');
  searchBox.style.position = 'relative';
  searchBox.appendChild(suggestionsDiv);

  // Search suggestions data
  const searchSuggestions = [
    'Safety Helmet', 'Safety Gloves', 'Reflective Jacket', 'Face Shield', 'Safety Shoes',
    'Lifeline System', 'Horizontal Lifeline', 'Vertical Lifeline', 'Fall Arrest',
    'Anchor Plate', 'Wire Rope', 'Carabiner Hook', 'Shock Absorber',
    'Rooftop Guardrail', 'Skylight Protection', 'PPE', 'Personal Protective Equipment',
    'Safety Mask', 'Eye Protection', 'Tensioner', 'End Anchor', 'Corner Unit'
  ];

  // Show suggestions on focus
  searchInput.addEventListener('focus', function() {
    if (this.value.length > 0) {
      showSuggestions(this.value);
    }
  });

  // Hide suggestions on blur (with delay for clicking)
  searchInput.addEventListener('blur', function() {
    setTimeout(() => {
      suggestionsDiv.style.display = 'none';
    }, 200);
  });

  // Show suggestions while typing
  searchInput.addEventListener('input', function() {
    const query = this.value.trim();
    if (query.length > 0) {
      showSuggestions(query);
    } else {
      suggestionsDiv.style.display = 'none';
    }
  });

  // Handle keyboard navigation
  searchInput.addEventListener('keydown', function(e) {
    const suggestions = suggestionsDiv.querySelectorAll('.suggestion-item');
    const activeSuggestion = suggestionsDiv.querySelector('.suggestion-item.active');
    
    if (e.key === 'ArrowDown') {
      e.preventDefault();
      if (activeSuggestion) {
        activeSuggestion.classList.remove('active');
        const next = activeSuggestion.nextElementSibling;
        if (next) {
          next.classList.add('active');
        } else {
          suggestions[0]?.classList.add('active');
        }
      } else {
        suggestions[0]?.classList.add('active');
      }
    } else if (e.key === 'ArrowUp') {
      e.preventDefault();
      if (activeSuggestion) {
        activeSuggestion.classList.remove('active');
        const prev = activeSuggestion.previousElementSibling;
        if (prev) {
          prev.classList.add('active');
        } else {
          suggestions[suggestions.length - 1]?.classList.add('active');
        }
      } else {
        suggestions[suggestions.length - 1]?.classList.add('active');
      }
    } else if (e.key === 'Enter') {
      if (activeSuggestion) {
        e.preventDefault();
        searchInput.value = activeSuggestion.textContent;
        suggestionsDiv.style.display = 'none';
        searchForm.submit();
      }
    } else if (e.key === 'Escape') {
      suggestionsDiv.style.display = 'none';
      searchInput.blur();
    }
  });

  function showSuggestions(query) {
    const filteredSuggestions = searchSuggestions.filter(suggestion =>
      suggestion.toLowerCase().includes(query.toLowerCase())
    ).slice(0, 8);

    if (filteredSuggestions.length > 0) {
      suggestionsDiv.innerHTML = filteredSuggestions.map(suggestion => `
        <div class="suggestion-item" style="
          padding: 10px 15px;
          cursor: pointer;
          border-bottom: 1px solid #f0f0f0;
          transition: background-color 0.2s;
          font-size: 0.9rem;
        " onmouseover="this.style.backgroundColor='#f8f9fa'"
           onmouseout="this.style.backgroundColor=''"
           onclick="selectSuggestion('${suggestion}')">
          <i class="fas fa-search text-muted me-2"></i>${suggestion}
        </div>
      `).join('');
      suggestionsDiv.style.display = 'block';
    } else {
      suggestionsDiv.style.display = 'none';
    }
  }

  // Global function to select suggestion
  window.selectSuggestion = function(suggestion) {
    searchInput.value = suggestion;
    suggestionsDiv.style.display = 'none';
    searchForm.submit();
  };
}
</script>

</head>
<body>

  
  <main>
    <h1 id="hsspl-search-functionality-documentation">HSSPL Search Functionality Documentation</h1>

<h2 id="overview">Overview</h2>
<p>This document explains the comprehensive search functionality implemented for Heinrich Safety Solutions website. The search system allows users to find products across all 5 main categories:</p>

<ol>
  <li>Personal Protective Equipment (PPE)</li>
  <li>Life Line System</li>
  <li>Fall Arrest System</li>
  <li>Rooftop Guardrail</li>
  <li>Skylight Protection Cover</li>
</ol>

<h2 id="features">Features</h2>

<h3 id="1-header-search-bar">1. Header Search Bar</h3>
<ul>
  <li>Located in the navigation header on every page</li>
  <li>Auto-complete suggestions as you type</li>
  <li>Quick search for immediate results</li>
  <li>Redirects to dedicated search results page</li>
</ul>

<h3 id="2-search-results-page-searchhtml">2. Search Results Page (<code class="language-plaintext highlighter-rouge">/search.html</code>)</h3>
<ul>
  <li>Comprehensive search results display</li>
  <li>Category filters to narrow down results</li>
  <li>Real-time result count</li>
  <li>Detailed product information with features</li>
  <li>Direct links to product pages</li>
</ul>

<h3 id="3-advanced-search-capabilities">3. Advanced Search Capabilities</h3>
<ul>
  <li><strong>Keyword Matching</strong>: Searches product titles, descriptions, features, and keywords</li>
  <li><strong>Category Filtering</strong>: Filter by specific product categories</li>
  <li><strong>Relevance Scoring</strong>: Results sorted by relevance to search query</li>
  <li><strong>Fuzzy Matching</strong>: Finds products even with partial matches</li>
</ul>

<h2 id="how-to-use">How to Use</h2>

<h3 id="for-users">For Users:</h3>
<ol>
  <li><strong>Basic Search</strong>: Type in the search bar and press Enter or click search button</li>
  <li><strong>Use Suggestions</strong>: Click on autocomplete suggestions while typing</li>
  <li><strong>Filter Results</strong>: Use category buttons to filter search results</li>
  <li><strong>Navigate</strong>: Click on any result to go to the specific product page</li>
</ol>

<h3 id="search-examples">Search Examples:</h3>
<ul>
  <li>“safety helmet” - finds all helmets and head protection</li>
  <li>“gloves” - finds all types of safety gloves</li>
  <li>“lifeline” - finds all lifeline system components</li>
  <li>“anchor” - finds all anchor plates and attachment points</li>
  <li>“fall arrest” - finds fall protection equipment</li>
</ul>

<h2 id="technical-implementation">Technical Implementation</h2>

<h3 id="files-createdmodified">Files Created/Modified:</h3>

<ol>
  <li><strong><code class="language-plaintext highlighter-rouge">/search.html</code></strong> - Main search results page
    <ul>
      <li>Complete search interface</li>
      <li>Result display and filtering</li>
      <li>Category navigation</li>
    </ul>
  </li>
  <li><strong><code class="language-plaintext highlighter-rouge">/assets/js/search.js</code></strong> - Core search functionality
    <ul>
      <li>Product database with comprehensive product info</li>
      <li>Search algorithms</li>
      <li>Autocomplete functionality</li>
      <li>Relevance scoring</li>
    </ul>
  </li>
  <li><strong><code class="language-plaintext highlighter-rouge">/_includes/head.html</code></strong> - Enhanced header search
    <ul>
      <li>Added search form with proper routing</li>
      <li>Autocomplete dropdown integration</li>
      <li>Keyboard navigation support</li>
    </ul>
  </li>
</ol>

<h3 id="product-categories">Product Categories:</h3>

<p><strong>Personal Protective Equipment (ppe) - 17 products:</strong></p>
<ul>
  <li>Reflective Jacket, Reflective Strap, Face Shield</li>
  <li>Safety Gloves (Rubber &amp; Leather), Safety Mask</li>
  <li>Safety Eye Glass, Safety Helmet, Safety Shoes</li>
  <li>Eyewash Bottles (500ml &amp; 1 Liter), PPE Bag, Bump Cap</li>
  <li>Davit Arm System, Painting Kit, Parapet Wall Anchor, Tripod</li>
</ul>

<p><strong>Life Line System (lifeline) - 37 products:</strong></p>
<ul>
  <li><strong>Main Systems (4):</strong> Horizontal, Vertical, Overhead, Custom Life Line Systems</li>
  <li><strong>Horizontal Components (12):</strong> Anchor Attachment Plate, End Anchor, Shock Absorber Spring, Tensioner, Intermediate Anchor, Corner Unit, Wire End Connector, Eye Connector, Wire Rope, Traveler Glider, Carabiner Hook, Fasteners</li>
  <li><strong>Vertical Components (10):</strong> Rope Suspension Clamps (Top &amp; Bottom), Anchor Plates (Top &amp; Bottom), Shock Absorber Suspension, Vertical Fall Arrester, Wire Rope, Carabiner Hook, Fasteners, Vertical Anchor Plate Bottom</li>
  <li><strong>Overhead Components (10):</strong> End Anchor, Eye Connector, Shock Absorber Spring, Tensioner, Wire Rope, Tandem Speed Pulley, Carabiner Hook, Retractable Fall Arrester, Wire End Connector, Fasteners</li>
  <li><strong>Additional Component (1):</strong> Vertical Anchor Plate (Bottom)</li>
</ul>

<p><strong>Fall Arrest System (fall-arrest) - 4 products:</strong></p>
<ul>
  <li>Complete Fall Arrest System</li>
  <li>Retractable Fall Arrester Block, Vertical Fall Arrester</li>
  <li>Ascender &amp; Descender, Spiderman Kits</li>
</ul>

<p><strong>Rooftop Guardrail (guardrail) - 1 product:</strong></p>
<ul>
  <li>Complete rooftop guardrail system</li>
</ul>

<p><strong>Skylight Protection (skylight) - 1 product:</strong></p>
<ul>
  <li>Skylight protection covers and screens</li>
</ul>

<p><strong>Total Products: 60 products across all categories</strong></p>

<h2 id="search-algorithm">Search Algorithm</h2>

<p>The search system uses a multi-layered approach:</p>

<ol>
  <li><strong>Term Matching</strong>: Searches across title, description, category, keywords, and features</li>
  <li><strong>Relevance Scoring</strong>:
    <ul>
      <li>Title matches: 10 points (15 if starts with search term)</li>
      <li>Category matches: 8 points</li>
      <li>Description matches: 5 points</li>
      <li>Keyword matches: 3 points</li>
      <li>Feature matches: 2 points</li>
    </ul>
  </li>
  <li><strong>Results Sorting</strong>: Higher scored results appear first</li>
  <li><strong>Category Filtering</strong>: Can be combined with search terms</li>
</ol>

<h2 id="browser-support">Browser Support</h2>
<ul>
  <li>Modern browsers (Chrome, Firefox, Safari, Edge)</li>
  <li>Mobile responsive design</li>
  <li>Touch-friendly interface</li>
  <li>Keyboard navigation support</li>
</ul>

<h2 id="future-enhancements">Future Enhancements</h2>
<ul>
  <li>Search analytics and popular searches</li>
  <li>Advanced filters (price range, features, etc.)</li>
  <li>Search result highlighting</li>
  <li>Recently viewed products</li>
  <li>Product comparison from search results</li>
</ul>

<h2 id="maintenance">Maintenance</h2>
<p>To add new products:</p>
<ol>
  <li>Add product information to the <code class="language-plaintext highlighter-rouge">HSSPL_SEARCH.products</code> array in <code class="language-plaintext highlighter-rouge">/assets/js/search.js</code></li>
  <li>Include relevant keywords for better searchability</li>
  <li>Ensure proper categorization</li>
  <li>Test search functionality with new products</li>
</ol>

<p>For any issues or enhancements, refer to the JavaScript console for debugging information.</p>

  </main>

  

  
  
    <footer class="footer pt-3 pb-3" style="background-color: #001f4d;">
    <div class="text-center text-warning">
        &copy; 2024 Heinrich Safety Solutions Private Limited (HSSPL). All rights reserved.          |           Designed with <i class="fas fa-heart" style="color: #e57200;"></i> for workplace safety</p>
    </div>
</footer>

<!-- Bootstrap JS and Icons -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
<script src="search.js"></script>
  
</body>
</html>
